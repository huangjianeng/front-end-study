{"version":3,"file":"toolbox.js","sources":["../src/types/index.ts","../src/math/matrix.ts","../src/math/combination.ts","../src/utils/extend.ts","../src/utils/falt.ts","../src/utils/isEqual.ts"],"sourcesContent":["type basicType =\n  | 'number'\n  | 'bigint'\n  | 'string'\n  | 'boolean'\n  | 'function'\n  | 'undefined'\n\nfunction isBasicType(type: basicType): <T>(value: T) => boolean {\n  return (value) => {\n    const lowercaseType = type.toLowerCase()\n    return typeof value === lowercaseType\n  }\n}\n\nconst toString: () => string = Object.prototype.toString\nfunction isTypeByToString(type: string): (value: unknown) => boolean {\n  return (value) => toString.call(value).toLowerCase() === `[object ${type}]`\n}\n\nexport const isNumber = isBasicType('number')\n\nexport const isBigint = isBasicType('bigint')\n\nexport const isBoolean = isBasicType('boolean')\n\nexport const isString = isBasicType('string')\n\nexport const isFunction = isBasicType('function')\n\nexport const isUndefined = isBasicType('undefined')\n\nexport const isUndefinedOrNull = <T>(value: T): boolean => value == null\n\nexport const isArray = isTypeByToString('array')\n\nexport const isDate = isTypeByToString('date')\n\nexport const isRegExp = isTypeByToString('regexp')\n\nexport const isNull = <T>(value: T): boolean => value === null\n\n// not null and typeof value is object\nexport const isObjectLike = <T>(value: T): boolean =>\n  typeof value === 'object' && !isNull(value)\n\n// {} Object.create(null) new A()\nexport const isObject = isTypeByToString('object')\n\n// {} Object.create(null)\nexport const isPureObject = <T>(value: T): boolean => {\n  if (!isObject(value)) return false\n\n  if (Object.getPrototypeOf(value) === null) return true\n\n  let proto = value\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto)\n  }\n  return Object.getPrototypeOf(value) === proto\n}\n","class Matrix<T> {\n  private _m: T[][]\n\n  constructor(m: T[][]) {\n    this._m = m\n  }\n\n  getRawMatrix(): T[][] {\n    return this._m\n  }\n\n  private getRawMatrixColNum(): number {\n    let colNum = 0\n    try {\n      colNum = this._m[0].length\n      return colNum\n    } catch (e) {\n      throw new Error('矩阵列不能为空')\n    }\n  }\n\n  private getRawMatrixRowNum(): number {\n    return this._m.length\n  }\n\n  transpose(): T[][] {\n    const colNum = this.getRawMatrixColNum()\n    const rowNum = this.getRawMatrixRowNum()\n    const transposeMatrix: T[][] = Array.from({ length: colNum }).map(() =>\n      Array.from({ length: rowNum })\n    )\n\n    for (let c = 0; c < colNum; c++) {\n      for (let r = 0; r < rowNum; r++) {\n        transposeMatrix[c][r] = this._m[r][c]\n      }\n    }\n\n    return transposeMatrix\n  }\n}\n\nexport { Matrix }\n","function combination<T, U extends unknown>(\n  rawData: T[],\n  num: number,\n  handleOfCombine: (data: T[]) => U = (data) => data.join('-') as U\n): U[] {\n  if (num < 0) return []\n  if (num === 1) return rawData.map((value) => handleOfCombine([value]))\n\n  const res: U[] = []\n  function generateCombination(rawData: T[], start: number, c: T[]): void {\n    if (c.length === num) {\n      res.push(handleOfCombine(c))\n      return\n    }\n    for (let i = start; i < rawData.length; i++) {\n      c.push(rawData[i])\n      generateCombination(rawData, i + 1, c)\n      c.pop()\n    }\n    return\n  }\n  generateCombination(rawData, 0, [])\n\n  return res\n}\n\nexport { combination }\n","// 1. will create a new object\nexport function extend<\n  T extends Record<string, unknown>,\n  U extends Record<string, unknown>\n>(obj1: T, obj2: U): T & U {\n  const target = <T & U>{}\n  for (const key in obj2) {\n    ;(<any>target)[key] = (<any>obj2)[key]\n  }\n  for (const key in obj1) {\n    if (!Object.prototype.hasOwnProperty.call(target, key)) {\n      ;(<any>target)[key] = (<any>obj1)[key]\n    }\n  }\n  return target\n}\n","// type UnwrapFalt<T> = {\n//   arr: UnwrapFalt<T>\n//   other: T\n// }[T extends Array<infer R> ? 'arr' : 'other']\n\nfunction falt<T>(arr: T[]): any[] {\n  const res = Array.prototype.concat.apply([], arr)\n  const isDeep = res.some((item) => item instanceof Array)\n  if (!isDeep) return res\n\n  return falt(res)\n}\n\nexport { falt }\n","import { isObjectLike } from '../types'\n\nfunction isEqual<T, U>(obj1: T | U, obj2: U | T): boolean {\n  // 终止条件\n  if (!isObjectLike(obj1) || !isObjectLike(obj2)) {\n    return obj1 === obj2\n  }\n\n  if (obj1 === obj2) return true\n\n  const obj1Keys = Object.keys(obj1)\n  const obj2Keys = Object.keys(obj2)\n\n  if (obj1Keys.length !== obj2Keys.length) return false\n\n  for (const key in <any>obj1) {\n    const res = isEqual((<any>obj1)[key], (<any>obj2)[key])\n    if (!res) return false\n  }\n\n  return true\n}\n\nexport { isEqual }\n"],"names":["isBasicType","type","value","toLowerCase","toString","Object","prototype","isTypeByToString","call","isNumber","isBigint","isBoolean","isString","isFunction","isUndefined","isArray","isDate","isRegExp","isNull","isObjectLike","isObject","m","this","_m","Matrix","length","e","Error","colNum","getRawMatrixColNum","rowNum","getRawMatrixRowNum","transposeMatrix","Array","from","map","c","r","rawData","num","handleOfCombine","data","join","res","generateCombination","start","i","push","pop","obj1","obj2","target","key","hasOwnProperty","falt","arr","concat","apply","some","item","isEqual","obj1Keys","keys","obj2Keys","getPrototypeOf","proto"],"mappings":"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"}